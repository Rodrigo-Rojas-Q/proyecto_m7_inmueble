{% extends 'base_generic.html' %}
{% load widget_tweaks %}
{% block content %}
<div class="container mt-5">
    <h2>Agregar Inmueble</h2>

    <!-- Bloque de errores generales -->
    {% if form.errors %}
        <div class="alert alert-danger">
            <strong>Por favor corrige los errores a continuación:</strong>
            <ul>
                {% for field, errors in form.errors.items %}
                    <li>{{ field }}: {{ errors }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <!-- Formulario -->
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

       

        <div class="form-group">
            <label for="{{ form.nombre.id_for_label }}" class="form-label">Nombre</label>
            {{ form.nombre|add_class:"form-control" }}
            <!-- Mostrar errores del campo Nombre -->
            <div class="text-danger">
                {{ form.nombre.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.descripcion.id_for_label }}" class="form-label">Descripción</label>
            {{ form.descripcion|add_class:"form-control" }}
            <!-- Mostrar errores del campo Descripción -->
            <div class="text-danger">
                {{ form.descripcion.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.m2_construidos.id_for_label }}" class="form-label">m² Construidos</label>
            {{ form.m2_construidos|add_class:"form-control" }}
            <!-- Mostrar errores del campo m² Construidos -->
            <div class="text-danger">
                {{ form.m2_construidos.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.m2_terreno.id_for_label }}" class="form-label">m² Terreno</label>
            {{ form.m2_terreno|add_class:"form-control" }}
            <!-- Mostrar errores del campo m² Terreno -->
            <div class="text-danger">
                {{ form.m2_terreno.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.numero_estacionamientos.id_for_label }}" class="form-label">Número de Estacionamientos</label>
            {{ form.numero_estacionamientos|add_class:"form-control" }}
            <!-- Mostrar errores del campo Número de Estacionamientos -->
            <div class="text-danger">
                {{ form.numero_estacionamientos.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.numero_habitaciones.id_for_label }}" class="form-label">Número de Habitaciones</label>
            {{ form.numero_habitaciones|add_class:"form-control" }}
            <!-- Mostrar errores del campo Número de Habitaciones -->
            <div class="text-danger">
                {{ form.numero_habitaciones.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.numero_banos.id_for_label }}" class="form-label">Número de Baños</label>
            {{ form.numero_banos|add_class:"form-control" }}
            <!-- Mostrar errores del campo Número de Baños -->
            <div class="text-danger">
                {{ form.numero_banos.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.direccion.id_for_label }}" class="form-label">Dirección</label>
            {{ form.direccion|add_class:"form-control" }}
            <!-- Mostrar errores del campo Dirección -->
            <div class="text-danger">
                {{ form.direccion.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.id_comuna.id_for_label }}" class="form-label">Comuna</label>
            {{ form.id_comuna|add_class:"form-control" }}
            <!-- Mostrar errores del campo Comuna -->
            <div class="text-danger">
                {{ form.id_comuna.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.id_region.id_for_label }}" class="form-label">Región</label>
            {{ form.id_region|add_class:"form-control" }}
            <!-- Mostrar errores del campo Región -->
            <div class="text-danger">
                {{ form.id_region.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.id_tipoinmueble.id_for_label }}" class="form-label">Tipo de Inmueble</label>
            {{ form.id_tipoinmueble|add_class:"form-control" }}
            <!-- Mostrar errores del campo Tipo de Inmueble -->
            <div class="text-danger">
                {{ form.id_tipoinmueble.errors }}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.precio_mensual.id_for_label }}" class="form-label">Precio Mensual</label>
            {{ form.precio_mensual|add_class:"form-control" }}
            <!-- Mostrar errores del campo Precio Mensual -->
            <div class="text-danger">
                {{ form.precio_mensual.errors }}
            </div>
        </div>

        <div class="form-group">
            <div class="form-check">
                {{ form.estado|add_class:"form-check-input" }}
                <label for="{{ form.estado.id_for_label }}" class="form-check-label">Activo</label>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Agregar Inmueble</button>
            <a href="{% url 'lista_inmuebles' %}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}
